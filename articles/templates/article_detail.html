{% extends 'home.html' %}
{% load static %}
{% block content %}

    <div class="row mainbody">
            <div class="col-md-1 button_tag">
            {% if user.is_authenticated %}
                    <div>
                        <!--<a href="{% url 'articles:upvote' slug=article.slug %}"-->
                        <a
                                class="btn btn-lg btn-fill btn-warning upvote_button article_vote" id="upvote"><svg id="i-arrow-top" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                        <path d="M6 10 L16 2 26 10 M16 2 L16 30" />
                        </svg>
                        </a>
                    </div>
                    <div>
                        <!--<a href="{% url 'articles:downvote' slug=article.slug %}"-->
                        <a
                        class="btn btn-lg btn-fill btn-warning article_vote" id="downvote"><svg id="i-arrow-bottom" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                        <path d="M6 22 L16 30 26 22 M16 30 L16 2" />
                        </svg>
                        </a>
                    </div>
            {% endif %}
            </div>
        <div class="col-md-9"><h2>{{ article.article_name }}</h2>

            <p class="">{{ article.article_content }}</p>
        </div>
        </div>


    <div class="article_details">
    <h4>Created by: <a href="{% url 'accounts:user_profile' username=article.created_by.user  %}">{{article.created_by.user }}</a> </h4>
    <h6>Created at: {{article.created_at }}</h6>
    <h6>Topic: <a href="{% url 'groups:topic_detail' slug=article.topic.slug %}"> {{article.topic }}</a></h6>
    {% if vote_count != None %}
        <h6 class="vote_count">Votes: {{ vote_count }} </h6></div>
    {% else %}
        <h6 class="vote_count">Votes: {{ 0 }} </h6></div>
    {% endif %}

    <div class="article_details">
            {% if user.is_authenticated %}
                {% if request.user == article.created_by.user %}
                    <div>
                        <a>Do you want to delete this post?</a>
                        <a href="{% url 'articles:article_delete' slug=article.slug %}"
                        class="btn btn-fill btn-warning button_tag">Delete
                        </a>
                    </div>
            {% endif %}
            {% endif %}
            </div>


    <div class="article_details">
                {% if user.is_authenticated %}
                    <div>
                        <a>Do you want to comment on this post?</a>
                        <a href="{% url 'articles:comment_form' slug=article.slug %}"
                        class="btn btn-fill btn-warning button_tag">Comment
                        </a>
                    </div>
                {% endif %}
                </div>


    <div class="button_tag">
        {% for comment in comment_list %}
            <h5>{{ comment.comment_body }}</h5>
            <div class=""><h6>Created by:
                {{comment.commenter.user }}</h6></div>
              <div class=""><h6>Posted at: {{comment.time }}</a></h6></div>
        {% empty %}
            <p>Ooops, there's no comments yet.</p>

        {% endfor %}
    </div>


<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>window.article_id = {{article.id}};</script>
<script src="{% static 'articles/main.js' %}"></script>

{% endblock %}
